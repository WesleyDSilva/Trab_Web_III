<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro de Cliente</title>
  </head>
  <body>
    <h2>Cadastro de Cliente</h2>
    <form id="cadastroForm">
      <label>Nome:</label>
      <input type="text" id="nome" required /><br /><br />

      <label>Logradouro:</label>
      <input type="text" id="logradouro" required /><br /><br />

      <label>Cidade:</label>
      <input type="text" id="cidade" required /><br /><br />

      <label>UF:</label>
      <input type="text" id="UF" maxlength="2" required /><br /><br />

      <label>CEP:</label>
      <input type="text" id="cep" required /><br /><br />

      <label>Complemento:</label>
      <input type="text" id="complemento" /><br /><br />

      <label>NÃºmero da Casa:</label>
      <input type="text" id="numero_casa" required /><br /><br />

      <label>Email:</label>
      <input type="email" id="email" required /><br /><br />

      <label>Telefone:</label>
      <input type="text" id="telefone" required /><br /><br />

      <label>Senha:</label>
      <input type="password" id="senha" required /><br /><br />

      <button type="submit">Cadastrar</button>
    </form>

    <p id="mensagem"></p>

    <script>
      document
        .getElementById("cadastroForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          let formData = {
            nome: document.getElementById("nome").value,
            logradouro: document.getElementById("logradouro").value,
            cidade: document.getElementById("cidade").value,
            UF: document.getElementById("UF").value,
            cep: document.getElementById("cep").value,
            complemento: document.getElementById("complemento").value,
            numero_casa: document.getElementById("numero_casa").value,
            email: document.getElementById("email").value,
            telefone: document.getElementById("telefone").value,
            senha: document.getElementById("senha").value,
          };

          fetch("api_create.php", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData),
          })
            .then((response) => response.json())
            .then((data) => {
              document.getElementById("mensagem").textContent = data.message;
            })
            .catch((error) => {
              document.getElementById("mensagem").textContent =
                "Erro ao enviar os dados.";
              console.error("Erro:", error);
            });
        });
    </script>
  </body>
</html>
